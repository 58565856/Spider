import requests
import execjs

with open('getSign.js',encoding='utf-8') as f:
    jstext = f.read()
    f.close()
text = 'hello world'
getSign = execjs.compile(jstext)
sign = getSign.call('e',text)


url = "https://fanyi.baidu.com/v2transapi?from=en&to=zh"

payload=f"from=en&to=zh&query={text}&transtype=realtime&simple_means_flag=3&sign={str(sign)}&token=c443866aa61f5c4329ae698fbe0b8eb9&domain=common"
headers = {
  'X-Requested-With': 'XMLHttpRequest',
  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',
  'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
  'Origin': 'https://fanyi.baidu.com',
  'Referer': 'https://fanyi.baidu.com/?aldtype=16047',
  'Cookie': 'REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; BIDUPSID=5BCC03DB61343E8556F813AA88F86283; PSTM=1623944949; BAIDUID=5BCC03DB61343E857E2A40B5A12C4DD7:FG=1; __yjs_duid=1_53d38e142ddc0a583c8126b96a6b1cd41624155388752; BAIDUID_BFESS=5BCC03DB61343E857E2A40B5A12C4DD7:FG=1; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; H_PS_PSSID=34099_34223_31253_33848_34112_34073_33607_34134_34119_26350_22160; delPer=0; PSINO=5; BA_HECTOR=2g81ag85a48425akvn1gdrn5d0q; BCLID=11549377573951169094; BDSFRCVID=taDOJexroG0YyvReYoSChr4T1FweG7bTDYLEOwXPsp3LGJLVJeC6EG0Pts1-dEu-EHtdogKKKgOTHICF_2uxOjjg8UtVJeC6EG0Ptf8g0M5; H_BDCLCKID_SF=tR3aQ5rtKRTffjrnhPF35-_vXP6-hnjy3bRkX4Q45xToVpOdK6OxDfKWbttf5q3RymJ42-39LPO2hpRjyxv4y4Ldj4oxJpOJ-bCL0p5aHl51fbbvbURvyP-g3-7A3M5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-jBRIE3-oJqC-WhC8l3H; BCLID_BFESS=11549377573951169094; BDSFRCVID_BFESS=taDOJexroG0YyvReYoSChr4T1FweG7bTDYLEOwXPsp3LGJLVJeC6EG0Pts1-dEu-EHtdogKKKgOTHICF_2uxOjjg8UtVJeC6EG0Ptf8g0M5; H_BDCLCKID_SF_BFESS=tR3aQ5rtKRTffjrnhPF35-_vXP6-hnjy3bRkX4Q45xToVpOdK6OxDfKWbttf5q3RymJ42-39LPO2hpRjyxv4y4Ldj4oxJpOJ-bCL0p5aHl51fbbvbURvyP-g3-7A3M5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-jBRIE3-oJqC-WhC8l3H; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1625152356,1625152687; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1625152687; ab_sr=1.0.1_N2E0MTc0NGM4YTgxYzBhOWJiNGYzMGZmNzRmNzIzNTg5MzAwMDFmZGQ0ZjNmYTlkYzIyOWM0OGRiYTUwMTUyMTg1ZmEyOTA3ZDBiOTUwZmJiNWQ4NzM1OGY2OTdmOTIzMzA4NjhmZGMwMDM5YjY2NDkzN2ZhYTFjYzQxMTg5YjUwOTRkNjRlMWViZGYyZmJhYjE0ODQzZWI5NWMyZTBkMQ==; __yjs_st=2_NjJkYmEwMjMyNzlmNjFlYmRhMzVlZTZmNzcwMTRiMDc4OGYzMTAxYjMyZmNjYmZmNWFlNTdiMWE1YzM3Mjg3MTkzNDBhMzAxMWJkNzZmOGNmYmFjODQ1MTU0YjA4MTM0NTY3YjgxNWU4NjdlN2M0OGUwNmNlMDYyYjVkNGE0MDBlODU0OTEzMGY0NGI3N2ZjMjg2NjhjYWUzNWM5YjEyNGZhNDFhN2FiMjM0NWNmZDA1NzcyMWQxMzUwY2MwZjI3YWJjYmYzZDhhNTMyYTQ2NGE0N2I4MDU1MGViZjZkYWVjNzgyYTRkY2EzZTg0ZTRkZWE1M2Q0NTBlMmI0ZGRiNF83X2MwNzM1YzZj; BAIDUID=02AB5C8ED1D5980406C4C3ECBE2A94B1:FG=1; BIDUPSID=02AB5C8ED1D5980406C4C3ECBE2A94B1; PSTM=1620119878'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.json()['trans_result']['data'])